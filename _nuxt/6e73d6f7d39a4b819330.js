(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{336:function(t,e,n){"use strict";n.r(e);var o,r=n(53),c=(n(59),n(32),n(7)),l={layout:"dashboard",data:function(){return{today:(new Date).toISOString().substr(0,10),focus:(new Date).toISOString().substr(0,10),type:"month",typeToLabel:{month:"Month",week:"Week",day:"Day","4day":"4 Days"},name:null,details:null,start:null,end:null,color:"#1976D2",currentlyEditing:null,selectedEvent:{},selectedElement:null,selectedOpen:!1,events:[],dialog:!1,dialogDate:!1}},computed:{title:function(){var t=this.start,e=this.end;if(!t||!e)return"";var n=this.monthFormatter(t),o=this.monthFormatter(e),r=n===o?"":o,c=t.year,l=e.year,d=c===l?"":l,v=t.day+this.nth(t.day),f=e.day+this.nth(e.day);switch(this.type){case"month":return"".concat(n," ").concat(c);case"week":case"4day":return"".concat(n," ").concat(v," ").concat(c," - ").concat(r," ").concat(f," ").concat(d);case"day":return"".concat(n," ").concat(v," ").concat(c)}return""},monthFormatter:function(){return this.$refs.calendar.getFormatter({timeZone:"UTC",month:"long"})}},mounted:function(){this.getEvents()},methods:(o={getEvents:function(){var t=this;return Object(c.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.$fireStore.collection("calEvent").get().then((function(e){e.forEach((function(e){var data=e.data();data.id=e.id,t.events.push(data)}))}));case 1:case"end":return e.stop()}}),e)})))()},editEvent:function(t){this.currentlyEditing=t.id},updateEvent:function(t){var e=this;return Object(c.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:e.$fireStore.collection("calEvent").doc(e.currentlyEditing).update({details:t.details}),e.selectedOpen=!1,e.currentlyEditing=null;case 2:case"end":return n.stop()}}),n)})))()},deleteEvent:function(t){var e=this;return Object(c.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:e.$fireStore.collection("calEvent").doc(t).delete(),e.selectedOpen=!1,e.getEvents();case 2:case"end":return n.stop()}}),n)})))()},addEvent:function(){var t=this;return Object(c.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.name&&t.start&&t.end?(t.$fireStore.collection("calEvent").add({name:t.name,details:t.details,start:t.start,end:t.end,color:t.color}),t.getEvents(),t.name="",t.details="",t.start="",t.end="",t.color=""):alert("You must enter event name, start, and end time");case 1:case"end":return e.stop()}}),e)})))()},getEventColor:function(t){return t.color},setToday:function(){this.focus=this.today},setDialogDate:function(t){var e=t.date;this.dialogDate=!0,this.focus=e},viewDay:function(t){var e=t.date;this.focus=e,this.type="day"}},Object(r.a)(o,"getEventColor",(function(t){return t.color})),Object(r.a)(o,"prev",(function(){this.$refs.calendar.prev()})),Object(r.a)(o,"next",(function(){this.$refs.calendar.next()})),Object(r.a)(o,"showEvent",(function(t){var e=this,n=t.nativeEvent,o=t.event,r=function(){e.selectedEvent=o,e.selectedElement=n.target,setTimeout((function(){return e.selectedOpen=!0}),10)};this.selectedOpen?(this.selectedOpen=!1,setTimeout(r,10)):r(),n.stopPropagation()})),Object(r.a)(o,"updateRange",(function(t){var e=t.start,n=t.end;this.start=e,this.end=n})),Object(r.a)(o,"nth",(function(t){return t>3&&t<21?"th":["th","st","nd","rd","th","th","th","th","th","th"][t%10]})),o)},d=n(5),component=Object(d.a)(l,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-row",{staticClass:"fill-height"},[n("v-col",[n("v-sheet",{attrs:{height:"64"}},[n("v-toolbar",{attrs:{flat:"",color:"white"}},[n("v-btn",{staticClass:"mr-4",attrs:{color:"primary",dark:""},on:{click:function(e){e.stopPropagation(),t.dialog=!0}}},[t._v("\n          New Appointment\n        ")]),t._v(" "),n("v-btn",{staticClass:"mr-4",attrs:{outlined:""},on:{click:function(e){return e.preventDefault(),t.setToday(e)}}},[t._v("\n          Today\n        ")]),t._v(" "),n("v-btn",{attrs:{fab:"",text:"",small:""},on:{click:t.prev}},[n("v-icon",{attrs:{small:""}},[t._v("fas fa-chevron-left")])],1),t._v(" "),n("v-btn",{attrs:{fab:"",text:"",small:""},on:{click:t.next}},[n("v-icon",{attrs:{small:""}},[t._v("fas fa-chevron-right")])],1),t._v(" "),n("v-toolbar-title",[t._v(t._s(t.title))]),t._v(" "),n("div",{staticClass:"flex-grow-1"}),t._v(" "),n("v-menu",{attrs:{bottom:"",right:""},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on;return[n("v-btn",t._g({attrs:{outlined:""}},o),[n("span",[t._v(t._s(t.typeToLabel[t.type]))]),t._v(" "),n("v-icon",{attrs:{right:""}},[t._v("mdi-menu-down")])],1)]}}])},[t._v(" "),n("v-list",[n("v-list-item",{on:{click:function(e){t.type="day"}}},[n("v-list-item-title",[t._v("Day")])],1),t._v(" "),n("v-list-item",{on:{click:function(e){t.type="week"}}},[n("v-list-item-title",[t._v("Week")])],1),t._v(" "),n("v-list-item",{on:{click:function(e){t.type="month"}}},[n("v-list-item-title",[t._v("Month")])],1),t._v(" "),n("v-list-item",{on:{click:function(e){t.type="4day"}}},[n("v-list-item-title",[t._v("4 days")])],1)],1)],1)],1)],1),t._v(" "),n("v-dialog",{attrs:{"max-width":"500"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[n("v-card",[n("v-container",[n("v-form",{on:{submit:function(e){return e.preventDefault(),t.addEvent(e)}}},[n("v-text-field",{attrs:{type:"text",label:"event name (required)"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),t._v(" "),n("v-text-field",{attrs:{type:"text",label:"detail"},model:{value:t.details,callback:function(e){t.details=e},expression:"details"}}),t._v(" "),n("v-text-field",{attrs:{type:"date",label:"start (required)"},model:{value:t.start,callback:function(e){t.start=e},expression:"start"}}),t._v(" "),n("v-text-field",{attrs:{type:"date",label:"end (required)"},model:{value:t.end,callback:function(e){t.end=e},expression:"end"}}),t._v(" "),n("v-text-field",{attrs:{type:"color",label:"color (click to open color menu)"},model:{value:t.color,callback:function(e){t.color=e},expression:"color"}}),t._v(" "),n("v-btn",{staticClass:"mr-4",attrs:{type:"submit",color:"green"},on:{click:function(e){e.stopPropagation(),t.dialog=!1}}},[t._v("\n              create new appointment\n            ")])],1)],1)],1)],1),t._v(" "),n("v-dialog",{attrs:{"max-width":"500"},model:{value:t.dialogDate,callback:function(e){t.dialogDate=e},expression:"dialogDate"}},[n("v-card",[n("v-container",[n("v-form",{on:{submit:function(e){return e.preventDefault(),t.addEvent(e)}}},[n("v-text-field",{attrs:{type:"text",label:"event name (required)"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),t._v(" "),n("v-text-field",{attrs:{type:"text",label:"detail"},model:{value:t.details,callback:function(e){t.details=e},expression:"details"}}),t._v(" "),n("v-text-field",{attrs:{type:"date",label:"start (required)"},model:{value:t.start,callback:function(e){t.start=e},expression:"start"}}),t._v(" "),n("v-text-field",{attrs:{type:"date",label:"end (required)"},model:{value:t.end,callback:function(e){t.end=e},expression:"end"}}),t._v(" "),n("v-text-field",{attrs:{type:"color",label:"color (click to open color menu)"},model:{value:t.color,callback:function(e){t.color=e},expression:"color"}}),t._v(" "),n("v-btn",{staticClass:"mr-4",attrs:{type:"submit",color:"primary"},on:{click:function(e){e.stopPropagation(),t.dialog=!1}}},[t._v("\n              create event\n            ")])],1)],1)],1)],1),t._v(" "),n("v-sheet",{attrs:{height:"600"}},[n("v-calendar",{ref:"calendar",attrs:{color:"primary",events:t.events,"event-color":t.getEventColor,"event-margin-bottom":3,now:t.today,type:t.type},on:{"click:event":t.showEvent,"click:more":t.viewDay,"click:date":t.setDialogDate,change:t.updateRange},model:{value:t.focus,callback:function(e){t.focus=e},expression:"focus"}}),t._v(" "),n("v-menu",{attrs:{"close-on-content-click":!1,activator:t.selectedElement,"offset-x":""},model:{value:t.selectedOpen,callback:function(e){t.selectedOpen=e},expression:"selectedOpen"}},[n("v-card",{attrs:{color:"grey lighten-4",width:350,flat:""}},[n("v-toolbar",{attrs:{color:t.selectedEvent.color,dark:""}},[n("v-btn",{attrs:{icon:""},on:{click:function(e){return t.deleteEvent(t.selectedEvent.id)}}},[n("v-icon",[t._v("fas fa-trash")])],1),t._v(" "),n("v-toolbar-title",{domProps:{innerHTML:t._s(t.selectedEvent.name)}}),t._v(" "),n("div",{staticClass:"flex-grow-1"})],1),t._v(" "),n("v-card-text",[t.currentlyEditing!==t.selectedEvent.id?n("form",[t._v("\n              "+t._s(t.selectedEvent.details)+"\n            ")]):n("v-textarea",{attrs:{"auto-grow":""},model:{value:t.selectedEvent.details,callback:function(e){t.$set(t.selectedEvent,"details",e)},expression:"selectedEvent.details"}})],1),t._v(" "),n("v-card-actions",[n("v-btn",{attrs:{text:"",color:"secondary"},on:{click:function(e){t.selectedOpen=!1}}},[t._v("\n              close\n            ")]),t._v(" "),t.currentlyEditing!==t.selectedEvent.id?n("v-btn",{attrs:{text:""},on:{click:function(e){return e.preventDefault(),t.editEvent(t.selectedEvent)}}},[t._v("\n              edit\n            ")]):n("v-btn",{attrs:{text:"",type:"submit"},on:{click:function(e){return e.preventDefault(),t.updateEvent(t.selectedEvent)}}},[t._v("\n              Save\n            ")])],1)],1)],1)],1)],1)],1)}),[],!1,null,null,null);e.default=component.exports}}]);